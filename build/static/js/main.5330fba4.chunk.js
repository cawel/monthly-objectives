(this.webpackJsonpp=this.webpackJsonpp||[]).push([[0],{31:function(e,t,a){e.exports=a(59)},36:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),s=(a(36),a(28)),i=a(12),l=a(3),m=a(4),u=a(19),h=a(6),p=a(5),b=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleObjectiveCheck=function(t){e.props.toggleObjectiveCheck(e.props.index)},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"objective"},r.a.createElement("input",{type:"checkbox",checked:!0===this.props.item.checked,onChange:this.toggleObjectiveCheck,index:this.props.index}),r.a.createElement("span",{className:this.props.item.checked?"name done text-muted":"name"},this.props.item.name))}}]),a}(r.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"listObjectives",value:function(){var e=this;return this.props.objectives.map((function(t,a){return r.a.createElement("li",{className:"list-group-item",key:a},r.a.createElement(b,{item:t,index:a,toggleObjectiveCheck:e.props.toggleObjectiveCheck}),r.a.createElement("a",{href:"#delete",onClick:e.props.removeObjective.bind(e,a)},r.a.createElement("i",{className:"fas fa-trash-alt"})))}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row objectiveList"},r.a.createElement("div",{className:"col "},r.a.createElement("h3",{className:"card-title"},r.a.createElement("i",{className:"fas fa-star"}),"Objectives"),r.a.createElement("ul",{className:"list-group user-generated-content"},this.listObjectives()))))}}]),a}(r.a.Component),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("header",null,r.a.createElement("a",{href:"#previous",className:"monthArrow",onClick:this.props.prevMonth},"<<"),r.a.createElement("h1",{className:"monthSelector"},r.a.createElement("span",{className:"month"},"".concat(this.props.month," ").concat(this.props.year))),r.a.createElement("a",{href:"#next",className:"monthArrow",onClick:this.props.nextMonth},">>")))}}]),a}(r.a.Component),d=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).nameRef=r.a.createRef(),e.createObjective=function(t){t.preventDefault();var a={name:e.nameRef.current.value,checked:!1};e.props.addObjective(a),t.currentTarget.reset()},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("form",{className:"objective-new form-inline",onSubmit:this.createObjective},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"name",className:"form-control user-generated-content",ref:this.nameRef,required:!0,size:"40",placeholder:"my new objective..."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary ",type:"submit"},r.a.createElement("i",{className:"fas fa-plus"}),"Add")))))}}]),a}(r.a.Component),g=a(26),j=a.n(g),y=a(27),E=a.n(y),O=/herokuapp/.test(window.location.href)?{apiKey:"AIzaSyDPwuBzfWxIxpi9TQn9ZnxzBtYy0YIYbUE",authDomain:"monthly-objectives.firebaseapp.com",databaseURL:"https://monthly-objectives.firebaseio.com",projectId:"monthly-objectives",storageBucket:"monthly-objectives.appspot.com",messagingSenderId:"795804563760"}:{apiKey:"AIzaSyA5TfI07yh31aNpKoX9BdZ2k4UUz7NQMTo",authDomain:"monthly-objectives-dev.firebaseapp.com",databaseURL:"https://monthly-objectives-dev.firebaseio.com",projectId:"monthly-objectives-dev",storageBucket:"monthly-objectives-dev.appspot.com",messagingSenderId:"149177821597"},k=E.a.initializeApp(O),N=j.a.createClass(k.database()),w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).logout=function(t){t.preventDefault(),k.auth().signOut().then((function(){e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("a",{href:"/logout",onClick:this.logout},"Log out")}}]),a}(r.a.Component),M=function(){return null!==k.auth().currentUser};function F(e,t){var a=Date.parse("".concat(e," ").concat(t));return new Date(a)}function C(){return(new Date).getFullYear()}function x(e){var t="";switch(e.getMonth()){case 0:t="January";break;case 1:t="February";break;case 2:t="March";break;case 3:t="April";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="August";break;case 8:t="September";break;case 9:t="October";break;case 10:t="November";break;case 11:t="December";break;default:t="January"}return t}var S=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).logoutStr=function(){return M()?r.a.createElement(n.Fragment,null,r.a.createElement(w,{history:e.props.history}),r.a.createElement("span",{className:"separator text-muted"},"|")):""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"row footer mx-auto"},this.logoutStr(),r.a.createElement("span",{className:"text-muted"},"\xa9 Praline 2018")))}}]),a}(r.a.Component),A=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).email=r.a.createRef(),n.password=r.a.createRef(),n.loginFailed=function(){n.setState({errorMessage:"Error while loggin in."})},n.login=function(e){e.preventDefault(),k.auth().signInWithEmailAndPassword(n.email.current.value,n.password.current.value).then((function(){console.log("Login successful !");var e=new Date;n.props.history.push("/".concat(e.getFullYear(),"/").concat(x(e).toLowerCase()))})).catch((function(e){var t=e.code,a=e.message;console.log(t,a),n.loginFailed()}))},n.hasErrorMessage=function(){return""!==n.state.errorMessage},n.state={errorMessage:""},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"section-title"},"Log In"))),r.a.createElement("div",{className:"row "+(this.hasErrorMessage()?"":"d-none")},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},r.a.createElement("i",{className:"fas fa-exclamation-circle"}),this.state.errorMessage))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("form",{onSubmit:this.login},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"form-control login-field user-generated-content",type:"email",ref:this.email,name:"email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control login-field user-generated-content",type:"password",ref:this.password,name:"password"})),r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Log in")))))}}]),a}(r.a.Component),D=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).defaultMonth=function(){return x(new Date).toLowerCase()},n.state={year:C(),monthAsString:n.defaultMonth(),objectives:[]},n.monthFromParams=function(e){return e.month||n.defaultMonth()},n.yearFromParams=function(e){return e.year||C()},n.syncFirebaseDatabase=function(e){n.unsyncFirebaseDatabase(),n.dbRef=N.syncState("".concat(n.yearFromParams(e),"/").concat(n.monthFromParams(e)),{context:Object(u.a)(n),state:"objectives"})},n.unsyncFirebaseDatabase=function(){void 0!==n.dbRef&&N.removeBinding(n.dbRef)},n.objectivesList=function(){var e=n.state.objectives;return Array.isArray(e)||(e=[]),e},n.addObjective=function(e){var t=Object.assign([],n.state.objectives);t.push(e),n.setState({objectives:t})},n.removeObjective=function(e,t){var a=Object.assign([],n.state.objectives);a.splice(e,1),n.setState({objectives:a})},n.updateMonth=function(e){var t=x(e).toLowerCase(),a=e.getFullYear();n.setState({monthAsString:t,year:a}),n.props.history.push("/".concat(e.getFullYear(),"/").concat(t))},n.prevMonth=function(e){e.preventDefault();var t=F(n.state.monthAsString,n.state.year),a=t.getMonth()-1;t.setMonth(a),n.updateMonth(t)},n.nextMonth=function(e){e.preventDefault();var t=F(n.state.monthAsString,n.state.year),a=t.getMonth()+1;t.setMonth(a),n.updateMonth(t)},n.toggleObjectiveCheck=function(e){var t=Object.assign([],n.state.objectives);t[e].checked=!t[e].checked,n.setState({objectives:t})};var r=n.props.match.params;return n.state.year=n.yearFromParams(r),n.state.monthAsString=n.monthFromParams(r),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.syncFirebaseDatabase(e)}},{key:"componentWillUnmount",value:function(){this.unsyncFirebaseDatabase()}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params;this.syncFirebaseDatabase(t)}},{key:"render",value:function(){return M()?r.a.createElement(n.Fragment,null,r.a.createElement(f,{month:this.state.monthAsString,year:String(this.state.year),prevMonth:this.prevMonth,nextMonth:this.nextMonth}),r.a.createElement(v,{objectives:this.objectivesList(),toggleObjectiveCheck:this.toggleObjectiveCheck,removeObjective:this.removeObjective}),r.a.createElement(d,{addObjective:this.addObjective}),r.a.createElement(S,{history:this.props.history})):r.a.createElement(n.Fragment,null,r.a.createElement(A,{history:this.props.history}),r.a.createElement(S,null))}}]),a}(r.a.Component),I=function(){return r.a.createElement("div",null,"Not Found !")},L=function(){return r.a.createElement(s.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:D}),r.a.createElement(i.a,{exact:!0,path:"/:year/:month",component:D}),r.a.createElement(i.a,{exact:!0,component:I})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("main"))}},[[31,1,2]]]);
//# sourceMappingURL=main.5330fba4.chunk.js.map